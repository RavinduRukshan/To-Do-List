<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task List</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">


    <style>
        .table-container {
            max-height: 435px; /* Adjust height as needed to fit approximately 6 tasks */
            overflow-y: auto;
        }

        .table th:nth-child(1), .table td:nth-child(1) {
            width: 10%;
        }
        .table th:nth-child(2), .table td:nth-child(2) {
            width: 40%; /* More space for Title */
        }
        .table th:nth-child(4), .table td:nth-child(4) {
            width: 38%; /* More space for Title */
        }

    </style>
</head>
<body>

<div class="container">
    <h1 class="my-4">To-Do List</h1>
    <hr>
    <a th:href="@{/tasks/showFormForAdd}" class="btn btn-primary mb-3">Add New Task</a>

    <div class="table-container">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>#</th>
                <th>Task</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="tempTask : ${tasks}">
                <td th:text="${tempTask.id}"></td>
                <td th:text="${tempTask.title}"></td>
                <td th:text="${tempTask.status}"></td>
                <td>
                    <a th:href="@{/tasks/updateStatus(taskId=${tempTask.id}, status='Completed')}" class="btn btn-success">Complete</a>
                    <a th:href="@{/tasks/updateStatus(taskId=${tempTask.id}, status='Pending')}" class="btn btn-secondary">Pending</a>
                    <a th:href="@{/tasks/showFormForUpdate(taskId=${tempTask.id})}" class="btn btn-warning">Update</a>
                    <a th:href="@{/tasks/delete(taskId=${tempTask.id})}" class="btn btn-danger"
                       onclick="if (!(confirm('Are you sure you want to delete this task??'))) return false">Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>